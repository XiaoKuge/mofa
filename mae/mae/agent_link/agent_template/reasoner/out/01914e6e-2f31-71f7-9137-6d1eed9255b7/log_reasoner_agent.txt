Traceback (most recent call last):
  File "<string>", line 1, in <module>
RuntimeError: Dora Runtime raised an error.

Caused by:
   0: main task failed
   1: operator reasoner_agent/op raised an error
   2: error in Python module at /Users/chenzi/project/zcbc/Moxin-App-Engine/mae/mae/agent_link/agent_template/reasoner/scripts/reasoner_agent.py
   3: Traceback (most recent call last):
        File "/Users/chenzi/project/zcbc/Moxin-App-Engine/mae/mae/agent_link/agent_template/reasoner/scripts/reasoner_agent.py", line 40, in on_event
          result = run_dspy_agent(inputs=inputs)
        File "/Users/chenzi/project/zcbc/Moxin-App-Engine/mae/mae/run/run.py", line 119, in run_dspy_agent
          answer = reasoner.forward(question=inputs.get('task'),kwargs=inputs.get('input_fields',{}))
        File "/Users/chenzi/project/zcbc/Moxin-App-Engine/mae/mae/apps/base/module.py", line 68, in forward
          predict = self.predict(question=question,**variable_dict,**self.no_cache)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dspy/predict/predict.py", line 78, in __call__
          return self.forward(**kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dspy/predict/predict.py", line 116, in forward
          completions = old_generate(demos, signature, kwargs, config, self.lm, self.stage)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dspy/predict/predict.py", line 143, in old_generate
          x, C = dsp.generate(template, **config)(x, stage=stage)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/primitives/predict.py", line 73, in do_generate
          completions: list[dict[str, Any]] = generator(prompt, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/gpt3.py", line 178, in __call__
          response = self.request(prompt, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/backoff/_sync.py", line 105, in retry
          ret = target(*args, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/gpt3.py", line 144, in request
          return self.basic_request(prompt, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/gpt3.py", line 117, in basic_request
          response = chat_request(**kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/gpt3.py", line 269, in chat_request
          return v1_cached_gpt3_turbo_request_v2_wrapped(**kwargs).model_dump()
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/cache_utils.py", line 16, in wrapper
          return func(*args, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/gpt3.py", line 262, in v1_cached_gpt3_turbo_request_v2_wrapped
          return v1_cached_gpt3_turbo_request_v2(**kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/joblib/memory.py", line 655, in __call__
          return self._cached_call(args, kwargs)[0]
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/joblib/memory.py", line 598, in _cached_call
          out, metadata = self.call(*args, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/joblib/memory.py", line 856, in call
          output = self.func(*args, **kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/dsp/modules/gpt3.py", line 256, in v1_cached_gpt3_turbo_request_v2
          return openai.chat.completions.create(**kwargs)
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/openai/_utils/_proxy.py", line 20, in __getattr__
          proxied = self.__get_proxied__()
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/openai/_utils/_proxy.py", line 55, in __get_proxied__
          return self.__load__()
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/openai/_module_client.py", line 12, in __load__
          return _load_client().chat
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/openai/__init__.py", line 323, in _load_client
          _client = _ModuleClient(
        File "/Users/chenzi/env/miniconda3/envs/py310/lib/python3.10/site-packages/openai/_client.py", line 104, in __init__
          raise OpenAIError(

      OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable

Location:
    binaries/runtime/src/operator/python.rs:28:9
